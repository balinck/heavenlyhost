{% import "bootstrap/wtf.html" as wtf %}
{% extends "base.html" %}
  
{% block content %}

{{ super() }}
<div class="page-header">
      <h1> {{ APP_NAME }} </h1>
<a href="{{url_for('new_game')}}">new game setup</a>
<br>
</div>

{% if games %}
<div class="container">
<div class="row">
<div class="col-sm-6">
<table class="table">
  <tr>
    <th>Active Games</th>
    <th>Status</th>
    <th>Turn</th>
    <th>Address</th>
  </tr>
{% for status in games %}
{% if not status["summary"] == "Finished" %}
  </tr>
    <td><a href="{{url_for('game_status', name=status['name'])}}">{{status["name"]}}</a></td>
    <td>{{status["summary"]}}</td>
    <td>{{status["turn"]}}</td>
    <td>{{address_str(status["port"])}}</td>
  </tr>

{% endif %}
{% endfor %}
</table>
</div>
<div class="col-sm-6">
<table class="table">
  <tr>
    <th>Past Games</th>
  </tr>
{% for status in games %}
{% if status["summary"] == "Finished" %}
  </tr>
    <td>{{ status["name"] }}</td>
  </tr>
{% endif %}
{% endfor %}
</table>
</div>
</div>
</div>
</div>
{% else %}
Waiting for game status...
{% endif %}
{% endblock %}
